{"map":"{\"version\":3,\"sources\":[\"/Users/raghav/Desktop/mern-jan-2019/github/user-auth/client/src/components/user/Login.js\",\"/Users/raghav/Desktop/mern-jan-2019/github/user-auth/client/src/components/user/Register.js\",\"/Users/raghav/Desktop/mern-jan-2019/github/user-auth/client/src/components/user/User.js\",\"/Users/raghav/Desktop/mern-jan-2019/github/user-auth/client/src/components/user/LoginMultiAuth.js\",\"/Users/raghav/Desktop/mern-jan-2019/github/user-auth/client/src/App.js\",\"/Users/raghav/Desktop/mern-jan-2019/github/user-auth/client/src/index.js\"],\"names\":[\"UserLogin\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"handleChange\",\"e\",\"persist\",\"setState\",\"defineProperty\",\"target\",\"name\",\"value\",\"handleSubmit\",\"preventDefault\",\"axios\",\"post\",\"user\",\"state\",\"password\",\"then\",\"response\",\"data\",\"mfaRequired\",\"localStorage\",\"setItem\",\"token\",\"props\",\"history\",\"push\",\"mfa\",\"updateUser\",\"catch\",\"err\",\"console\",\"log\",\"error\",\"react_default\",\"a\",\"createElement\",\"onSubmit\",\"className\",\"style\",\"max-width\",\"onChange\",\"type\",\"placeholder\",\"React\",\"Component\",\"UserRegister\",\"email\",\"mobile\",\"QRCode\",\"require\",\"User\",\"isChecked\",\"checked\",\"handleMfaChange\",\"mfaStatus\",\"getItem\",\"UserLoginMultiAuth\",\"otp\",\"headers\",\"otp-auth\",\"App\",\"put\",\"x-auth\",\"on\",\"get\",\"isAuthenticated\",\"undefined\",\"_this2\",\"react_router_dom\",\"Fragment\",\"class\",\"listStyleType\",\"to\",\"react_router\",\"path\",\"component\",\"user_User\",\"assign\",\"clear\",\"render\",\"Login\",\"exact\",\"Register\",\"LoginMultiAuth\",\"ReactDOM\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react'\\nimport axios from 'axios'\\n\\nclass UserLogin extends React.Component {\\n\\n    constructor() {\\n        super()\\n        this.state = {\\n            user: '',\\n            password: ''\\n        }\\n    }\\n\\n    handleChange = (e) => {\\n        e.persist()\\n        this.setState(() => ({ [e.target.name]: e.target.value }))\\n    }\\n\\n    handleSubmit = (e) => {\\n        e.preventDefault()\\n        axios.post('/users/login', { user: this.state.user, password: this.state.password })\\n            .then((response) => {\\n                // console.log(response.data)\\n                if (response.data.mfaRequired) {\\n                    localStorage.setItem('otp-auth', response.data.token)\\n                    this.props.history.push('/login/multi-auth')\\n                }\\n                else if (response.data.token) {\\n                    localStorage.setItem('x-auth', response.data.token)\\n                    localStorage.setItem('qr', response.data.mfa)\\n                    this.props.updateUser()\\n                    this.props.history.push('/users')\\n                }\\n            })\\n            .catch((err) => {\\n                console.log(err.response.data.error)\\n            })\\n    }\\n\\n    render() {\\n        return (\\n            <form onSubmit={this.handleSubmit}>\\n                <div className=\\\"border p-5 m-auto rounded shadow\\\" style={{ 'max-width': '380px' }}>\\n                    <div className=\\\"form-group\\\">\\n                        <input\\n                            value={this.state.user}\\n                            name=\\\"user\\\"\\n                            onChange={this.handleChange}\\n                            type='text'\\n                            placeholder='Email or Mobile'\\n                            className='form-control input-margin-custom border-bottom-custom' />\\n                    </div>\\n                    <div className=\\\"form-group\\\">\\n                        <input\\n                            value={this.state.password}\\n                            name=\\\"password\\\"\\n                            onChange={this.handleChange}\\n                            type='password'\\n                            placeholder='Password'\\n                            className='form-control input-margin-custom border-bottom-custom'\\n                        />\\n                    </div>\\n                    <div className=\\\"d-flex justify-content-center\\\">\\n                        <button className='btn btn-success rounded-pill custom-submit'>Login</button>\\n                    </div>\\n                </div>\\n            </form>\\n        )\\n    }\\n}\\n\\nexport default UserLogin\",\"import React from 'react'\\nimport axios from 'axios'\\n\\nclass UserRegister extends React.Component {\\n\\n    constructor() {\\n        super()\\n        this.state = {\\n            email: '',\\n            mobile: '',\\n            password: ''\\n        }\\n    }\\n\\n    handleChange = (e) => {\\n        e.persist()\\n        this.setState(() => ({ [e.target.name]: e.target.value }))\\n    }\\n\\n    handleSubmit = (e) => {\\n        e.preventDefault()\\n        axios.post('/users', { email: this.state.email, mobile: this.state.mobile, password: this.state.password })\\n            .then((response) => {\\n                if (response.data.token) {\\n                    localStorage.setItem('qr', response.data.mfa)\\n                    localStorage.setItem('x-auth', response.data.token)\\n                    this.props.updateUser()\\n                    this.props.history.push('/users')\\n                }\\n            })\\n            .catch((err) => {\\n                console.log(err.response.data.error)\\n            })\\n    }\\n\\n    render() {\\n        return (\\n            <form onSubmit={this.handleSubmit}>\\n                <div className=\\\"border p-5 m-auto rounded shadow\\\" style={{ 'max-width': '380px' }}>\\n                <h2 className='text-center'>Welcome</h2>\\n                    <div className=\\\"form-group\\\">\\n                        <input\\n                            value={this.state.user}\\n                            name=\\\"email\\\"\\n                            onChange={this.handleChange}\\n                            type='text'\\n                            placeholder='Email'\\n                            className='form-control input-margin-custom border-bottom-custom'\\n                        />\\n                        <input\\n                            value={this.state.mobile}\\n                            name=\\\"mobile\\\"\\n                            onChange={this.handleChange}\\n                            type='text'\\n                            placeholder='Mobile'\\n                            className='form-control input-margin-custom border-bottom-custom'\\n                        />\\n\\n                        <input\\n                            value={this.state.password}\\n                            name=\\\"password\\\"\\n                            onChange={this.handleChange}\\n                            type='password'\\n                            placeholder='Password'\\n                            className='form-control input-margin-custom border-bottom-custom'\\n                        />\\n\\n                        <div className=\\\"d-flex justify-content-center\\\">\\n                            <button className='btn btn-success rounded-pill custom-submit'>Register</button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </form>\\n        )\\n    }\\n}\\n\\nexport default UserRegister\",\"import React from 'react'\\nimport axios from 'axios';\\nvar QRCode = require('qrcode.react');\\n\\nclass User extends React.Component {\\n    constructor(props) {\\n        super(props)\\n        this.state = {\\n            mfaStatus: props.mfaStatus,\\n            email: props.email\\n        }\\n    }\\n\\n    handleChange = (e) => {\\n        const isChecked = e.target.checked\\n        this.props.handleMfaChange(isChecked)\\n    }\\n\\n    render() {\\n        return (\\n            <form>\\n                <div className=\\\"border p-5 m-auto rounded shadow text-center\\\" style={{ 'max-width': '380px' }}>\\n                    <h2 className=\\\"mb-2\\\">Settings</h2>\\n                    <QRCode className=\\\"mt-5 mb-5\\\" value={localStorage.getItem('qr')} /> <br />\\n                        <h5 className=\\\"\\\">{this.state.email}</h5>\\n                        <label><input type=\\\"checkbox\\\" checked={this.state.mfaStatus} onChange={this.handleChange} />  Multi-Factor Authentication </label>\\n                </div>\\n            </form>\\n                )\\n            }\\n        \\n        }\\nexport default User\",\"import React from 'react'\\nimport axios from 'axios';\\nimport User from './User';\\n\\nclass UserLoginMultiAuth extends React.Component {\\n\\n    constructor() {\\n        super()\\n        this.state = {\\n            mfa: ''\\n        }\\n    }\\n\\n    handleSubmit = (e) => {\\n        e.preventDefault()\\n        console.log(localStorage.getItem('otp-auth'))\\n        axios.post('http://localhost:3005/users/login/multi-auth', { otp: this.state.mfa }, { headers: { 'otp-auth': localStorage.getItem('otp-auth') } })\\n            .then((response) => {\\n                localStorage.setItem('x-auth', response.data.token)\\n                localStorage.setItem('qr', response.data.mfa)\\n                this.props.updateUser()\\n                this.props.history.push('/users')\\n            })\\n    }\\n\\n    handleChange = (e) => {\\n        e.persist()\\n        this.setState(() => ({ mfa: e.target.value }))\\n    }\\n\\n    render() {\\n        return (\\n            <form onSubmit={this.handleSubmit}>\\n                <div className=\\\"border p-5 m-auto rounded shadow\\\" style={{ 'max-width': '380px' }}>\\n                    <div className=\\\"form-group\\\">\\n                        <input\\n                            type=\\\"text\\\"\\n                            placeholder=\\\"MFA Token\\\"\\n                            onChange={this.handleChange}\\n                            value={this.state.mfa}\\n                            className='form-control input-margin-custom border-bottom-custom'\\n                        />\\n                    </div>\\n                    <div className=\\\"d-flex justify-content-center\\\">\\n                        <button className='btn btn-success rounded-pill custom-submit'>Login</button>\\n                    </div>\\n                </div>\\n            </form>\\n        )\\n    }\\n}\\n\\nexport default UserLoginMultiAuth\",\"import React from 'react'\\nimport axios from 'axios'\\n\\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\\n\\n\\nimport UserLogin from './components/user/Login'\\nimport UserRegister from './components/user/Register'\\nimport User from './components/user/User'\\nimport UserLoginMultiAuth from './components/user/LoginMultiAuth'\\n\\nclass App extends React.Component {\\n\\n  constructor() {\\n    super()\\n    this.state = {\\n      isAuthenticated: undefined,\\n      mfaStatus: undefined,\\n      email: undefined\\n    }\\n  }\\n\\n  handleMfaChange = (isChecked) => {\\n    axios.put('/users/mfa', { mfa: isChecked }, { headers: { 'x-auth': localStorage.getItem('x-auth') } })\\n      .then((response) => {\\n        this.setState(() => ({\\n          mfaStatus: response.data.mfa.on\\n        }))\\n      })\\n  }\\n\\n  updateUser = () => {\\n    if (localStorage.getItem('x-auth')) {\\n      axios.get('/users', { headers: { 'x-auth': localStorage.getItem('x-auth') } })\\n        .then((response) => {\\n          this.setState(() => ({ mfaStatus: response.data.mfa, email: response.data.email, isAuthenticated: true }))\\n        })\\n        .catch(() => {\\n          this.setState(() => ({ isAuthenticated: false }))\\n        })\\n    } else {\\n      this.setState(() => ({ isAuthenticated: false }))\\n    }\\n  }\\n\\n  render() {\\n    return (\\n      <BrowserRouter>\\n\\n        {this.state.isAuthenticated !== undefined &&\\n          <React.Fragment>\\n\\n            <nav class=\\\"navbar navbar-dark bg-dark mb-3\\\">\\n              <div className=\\\"d-flex w-100 li-parent justify-content-end\\\" style={{ listStyleType: 'none' }}>\\n                <li className=\\\"mr-auto\\\"><Link to=\\\"/\\\">Home</Link></li>\\n                {this.state.isAuthenticated ?\\n                  <React.Fragment>\\n                    <li><Link className=\\\"nav-item\\\" to=\\\"/users\\\">Settings</Link></li>\\n                    <li><Link className=\\\"nav-item\\\" to=\\\"/logout\\\">Logout</Link></li>\\n                  </React.Fragment>\\n                  :\\n                  <React.Fragment>\\n                    <li><Link to=\\\"/register\\\">Register</Link></li>\\n                    <li><Link to=\\\"/login\\\">Login</Link></li>\\n                  </React.Fragment>\\n                }\\n              </div>\\n            </nav>\\n\\n            {this.state.isAuthenticated ?\\n              <React.Fragment>\\n                <Route path=\\\"/users\\\" component={(props) => {\\n                  return <User\\n                    {...props}\\n                    mfaStatus={this.state.mfaStatus}\\n                    email={this.state.email}\\n                    handleMfaChange={this.handleMfaChange} />\\n                }} />\\n                <Route path=\\\"/logout\\\" component={(props) => {\\n                  localStorage.clear()\\n                  this.updateUser()\\n                  props.history.push(\\\"/\\\")\\n                  return <></>\\n                }} />\\n              </React.Fragment>\\n              :\\n              <React.Fragment>\\n                <Route path=\\\"/login\\\" render={(props)=>{\\n                  return <UserLogin {...props} updateUser={this.updateUser} />\\n                }} exact={true} />\\n                <Route path=\\\"/register\\\" render={(props)=>{\\n                  return <UserRegister {...props} updateUser={this.updateUser} />}}\\n                  />\\n                <Route path=\\\"/login/multi-auth\\\" render={(props)=>{\\n                  return <UserLoginMultiAuth {...props} updateUser={this.updateUser} />\\n                }} exact={true} />\\n              </React.Fragment>\\n            }\\n\\n            <Route path=\\\"/\\\" exact={true} render={() => {\\n              return (\\n                <div className=\\\"border p-2 mt-5 mx-auto rounded shadow text-center\\\" style={{ 'max-width': '480px' }}>\\n                  <h3 className=\\\"\\\">About this App</h3>\\n                  <ol>\\n                    <li>This app demonstrates Multi-Factor User Authentication.</li>\\n                    <li>You will need Google Authenticator App to test this.</li>\\n                    <li>Multi-Factor Authentication is turned off by default.</li>\\n                    <li>This app saves your browser fingerprint, once logged in MFA wont be required again for that browser.</li>\\n                  </ol>\\n                </div>\\n              )\\n            }} />\\n          </React.Fragment>\\n        }\\n      </BrowserRouter>\\n    )\\n  }\\n\\n  componentDidMount() {\\n    this.updateUser()\\n  }\\n}\\nexport default App\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport App from './App';\\nimport 'bootstrap/dist/css/bootstrap.min.css'\\nimport './css/main.css'\\n\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(75)},74:function(e,t,a){},75:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(32),o=a.n(s),l=a(6),c=a(7),u=a(10),i=a(8),m=a(11),h=a(9),d=a.n(h),p=a(13),f=a(12),b=a(16),g=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).handleChange=function(t){t.persist(),e.setState(function(){return Object(b.a)({},t.target.name,t.target.value)})},e.handleSubmit=function(t){t.preventDefault(),d.a.post(\"/users/login\",{user:e.state.user,password:e.state.password}).then(function(t){t.data.mfaRequired?(localStorage.setItem(\"otp-auth\",t.data.token),e.props.history.push(\"/login/multi-auth\")):t.data.token&&(localStorage.setItem(\"x-auth\",t.data.token),localStorage.setItem(\"qr\",t.data.mfa),e.props.updateUser(),e.props.history.push(\"/users\"))}).catch(function(e){console.log(e.response.data.error)})},e.state={user:\"\",password:\"\"},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"form\",{onSubmit:this.handleSubmit},r.a.createElement(\"div\",{className:\"border p-5 m-auto rounded shadow\",style:{\"max-width\":\"380px\"}},r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"input\",{value:this.state.user,name:\"user\",onChange:this.handleChange,type:\"text\",placeholder:\"Email or Mobile\",className:\"form-control input-margin-custom border-bottom-custom\"})),r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"input\",{value:this.state.password,name:\"password\",onChange:this.handleChange,type:\"password\",placeholder:\"Password\",className:\"form-control input-margin-custom border-bottom-custom\"})),r.a.createElement(\"div\",{className:\"d-flex justify-content-center\"},r.a.createElement(\"button\",{className:\"btn btn-success rounded-pill custom-submit\"},\"Login\"))))}}]),t}(r.a.Component),E=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).handleChange=function(t){t.persist(),e.setState(function(){return Object(b.a)({},t.target.name,t.target.value)})},e.handleSubmit=function(t){t.preventDefault(),d.a.post(\"/users\",{email:e.state.email,mobile:e.state.mobile,password:e.state.password}).then(function(t){t.data.token&&(localStorage.setItem(\"qr\",t.data.mfa),localStorage.setItem(\"x-auth\",t.data.token),e.props.updateUser(),e.props.history.push(\"/users\"))}).catch(function(e){console.log(e.response.data.error)})},e.state={email:\"\",mobile:\"\",password:\"\"},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"form\",{onSubmit:this.handleSubmit},r.a.createElement(\"div\",{className:\"border p-5 m-auto rounded shadow\",style:{\"max-width\":\"380px\"}},r.a.createElement(\"h2\",{className:\"text-center\"},\"Welcome\"),r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"input\",{value:this.state.user,name:\"email\",onChange:this.handleChange,type:\"text\",placeholder:\"Email\",className:\"form-control input-margin-custom border-bottom-custom\"}),r.a.createElement(\"input\",{value:this.state.mobile,name:\"mobile\",onChange:this.handleChange,type:\"text\",placeholder:\"Mobile\",className:\"form-control input-margin-custom border-bottom-custom\"}),r.a.createElement(\"input\",{value:this.state.password,name:\"password\",onChange:this.handleChange,type:\"password\",placeholder:\"Password\",className:\"form-control input-margin-custom border-bottom-custom\"}),r.a.createElement(\"div\",{className:\"d-flex justify-content-center\"},r.a.createElement(\"button\",{className:\"btn btn-success rounded-pill custom-submit\"},\"Register\")))))}}]),t}(r.a.Component),v=a(59),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e){var t=e.target.checked;a.props.handleMfaChange(t)},a.state={mfaStatus:e.mfaStatus,email:e.email},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"form\",null,r.a.createElement(\"div\",{className:\"border p-5 m-auto rounded shadow text-center\",style:{\"max-width\":\"380px\"}},r.a.createElement(\"h2\",{className:\"mb-2\"},\"Settings\"),r.a.createElement(v,{className:\"mt-5 mb-5\",value:localStorage.getItem(\"qr\")}),\" \",r.a.createElement(\"br\",null),r.a.createElement(\"h5\",{className:\"\"},this.state.email),r.a.createElement(\"label\",null,r.a.createElement(\"input\",{type:\"checkbox\",checked:this.state.mfaStatus,onChange:this.handleChange}),\"  Multi-Factor Authentication \")))}}]),t}(r.a.Component),j=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),console.log(localStorage.getItem(\"otp-auth\")),d.a.post(\"http://localhost:3005/users/login/multi-auth\",{otp:e.state.mfa},{headers:{\"otp-auth\":localStorage.getItem(\"otp-auth\")}}).then(function(t){localStorage.setItem(\"x-auth\",t.data.token),localStorage.setItem(\"qr\",t.data.mfa),e.props.updateUser(),e.props.history.push(\"/users\")})},e.handleChange=function(t){t.persist(),e.setState(function(){return{mfa:t.target.value}})},e.state={mfa:\"\"},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"form\",{onSubmit:this.handleSubmit},r.a.createElement(\"div\",{className:\"border p-5 m-auto rounded shadow\",style:{\"max-width\":\"380px\"}},r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"input\",{type:\"text\",placeholder:\"MFA Token\",onChange:this.handleChange,value:this.state.mfa,className:\"form-control input-margin-custom border-bottom-custom\"})),r.a.createElement(\"div\",{className:\"d-flex justify-content-center\"},r.a.createElement(\"button\",{className:\"btn btn-success rounded-pill custom-submit\"},\"Login\"))))}}]),t}(r.a.Component),w=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).handleMfaChange=function(t){d.a.put(\"/users/mfa\",{mfa:t},{headers:{\"x-auth\":localStorage.getItem(\"x-auth\")}}).then(function(t){e.setState(function(){return{mfaStatus:t.data.mfa.on}})})},e.updateUser=function(){localStorage.getItem(\"x-auth\")?d.a.get(\"/users\",{headers:{\"x-auth\":localStorage.getItem(\"x-auth\")}}).then(function(t){e.setState(function(){return{mfaStatus:t.data.mfa,email:t.data.email,isAuthenticated:!0}})}).catch(function(){e.setState(function(){return{isAuthenticated:!1}})}):e.setState(function(){return{isAuthenticated:!1}})},e.state={isAuthenticated:void 0,mfaStatus:void 0,email:void 0},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(p.a,null,void 0!==this.state.isAuthenticated&&r.a.createElement(r.a.Fragment,null,r.a.createElement(\"nav\",{class:\"navbar navbar-dark bg-dark mb-3\"},r.a.createElement(\"div\",{className:\"d-flex w-100 li-parent justify-content-end\",style:{listStyleType:\"none\"}},r.a.createElement(\"li\",{className:\"mr-auto\"},r.a.createElement(p.b,{to:\"/\"},\"Home\")),this.state.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"li\",null,r.a.createElement(p.b,{className:\"nav-item\",to:\"/users\"},\"Settings\")),r.a.createElement(\"li\",null,r.a.createElement(p.b,{className:\"nav-item\",to:\"/logout\"},\"Logout\"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"li\",null,r.a.createElement(p.b,{to:\"/register\"},\"Register\")),r.a.createElement(\"li\",null,r.a.createElement(p.b,{to:\"/login\"},\"Login\"))))),this.state.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{path:\"/users\",component:function(t){return r.a.createElement(S,Object.assign({},t,{mfaStatus:e.state.mfaStatus,email:e.state.email,handleMfaChange:e.handleMfaChange}))}}),r.a.createElement(f.a,{path:\"/logout\",component:function(t){return localStorage.clear(),e.updateUser(),t.history.push(\"/\"),r.a.createElement(r.a.Fragment,null)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{path:\"/login\",render:function(t){return r.a.createElement(g,Object.assign({},t,{updateUser:e.updateUser}))},exact:!0}),r.a.createElement(f.a,{path:\"/register\",render:function(t){return r.a.createElement(E,Object.assign({},t,{updateUser:e.updateUser}))}}),r.a.createElement(f.a,{path:\"/login/multi-auth\",render:function(t){return r.a.createElement(j,Object.assign({},t,{updateUser:e.updateUser}))},exact:!0})),r.a.createElement(f.a,{path:\"/\",exact:!0,render:function(){return r.a.createElement(\"div\",{className:\"border p-2 mt-5 mx-auto rounded shadow text-center\",style:{\"max-width\":\"480px\"}},r.a.createElement(\"h3\",{className:\"\"},\"About this App\"),r.a.createElement(\"ol\",null,r.a.createElement(\"li\",null,\"This app demonstrates Multi-Factor User Authentication.\"),r.a.createElement(\"li\",null,\"You will need Google Authenticator App to test this.\"),r.a.createElement(\"li\",null,\"Multi-Factor Authentication is turned off by default.\"),r.a.createElement(\"li\",null,\"This app saves your browser fingerprint, once logged in MFA wont be required again for that browser.\")))}})))}},{key:\"componentDidMount\",value:function(){this.updateUser()}}]),t}(r.a.Component);a(73),a(74);o.a.render(r.a.createElement(w,null),document.getElementById(\"root\"))}},[[35,1,2]]]);","extractedComments":[]}