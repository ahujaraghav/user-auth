{"version":3,"sources":["components/user/Login.js","components/user/Register.js","components/user/User.js","components/user/LoginMultiAuth.js","App.js","index.js"],"names":["UserLogin","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","persist","setState","defineProperty","target","name","value","handleSubmit","preventDefault","axios","post","user","state","password","then","response","data","mfaRequired","localStorage","setItem","token","props","history","push","mfa","updateUser","catch","err","console","log","error","react_default","a","createElement","onSubmit","className","style","max-width","onChange","type","placeholder","React","Component","UserRegister","email","mobile","QRCode","require","User","isChecked","checked","handleMfaChange","mfaStatus","getItem","UserLoginMultiAuth","otp","headers","otp-auth","App","put","x-auth","on","get","isAuthenticated","undefined","_this2","react_router_dom","Fragment","class","listStyleType","to","react_router","path","component","user_User","assign","clear","render","Login","exact","Register","LoginMultiAuth","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8e8e73e7.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nclass UserLogin extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            user: '',\n            password: ''\n        }\n    }\n\n    handleChange = (e) => {\n        e.persist()\n        this.setState(() => ({ [e.target.name]: e.target.value }))\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        axios.post('/users/login', { user: this.state.user, password: this.state.password })\n            .then((response) => {\n                // console.log(response.data)\n                if (response.data.mfaRequired) {\n                    localStorage.setItem('otp-auth', response.data.token)\n                    this.props.history.push('/login/multi-auth')\n                }\n                else if (response.data.token) {\n                    localStorage.setItem('x-auth', response.data.token)\n                    localStorage.setItem('qr', response.data.mfa)\n                    this.props.updateUser()\n                    this.props.history.push('/users')\n                }\n            })\n            .catch((err) => {\n                console.log(err.response.data.error)\n            })\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className=\"border p-5 m-auto rounded shadow\" style={{ 'max-width': '380px' }}>\n                    <div className=\"form-group\">\n                        <input\n                            value={this.state.user}\n                            name=\"user\"\n                            onChange={this.handleChange}\n                            type='text'\n                            placeholder='Email or Mobile'\n                            className='form-control input-margin-custom border-bottom-custom' />\n                    </div>\n                    <div className=\"form-group\">\n                        <input\n                            value={this.state.password}\n                            name=\"password\"\n                            onChange={this.handleChange}\n                            type='password'\n                            placeholder='Password'\n                            className='form-control input-margin-custom border-bottom-custom'\n                        />\n                    </div>\n                    <div className=\"d-flex justify-content-center\">\n                        <button className='btn btn-success rounded-pill custom-submit'>Login</button>\n                    </div>\n                </div>\n            </form>\n        )\n    }\n}\n\nexport default UserLogin","import React from 'react'\nimport axios from 'axios'\n\nclass UserRegister extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            email: '',\n            mobile: '',\n            password: ''\n        }\n    }\n\n    handleChange = (e) => {\n        e.persist()\n        this.setState(() => ({ [e.target.name]: e.target.value }))\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        axios.post('/users', { email: this.state.email, mobile: this.state.mobile, password: this.state.password })\n            .then((response) => {\n                if (response.data.token) {\n                    localStorage.setItem('qr', response.data.mfa)\n                    localStorage.setItem('x-auth', response.data.token)\n                    this.props.updateUser()\n                    this.props.history.push('/users')\n                }\n            })\n            .catch((err) => {\n                console.log(err.response.data.error)\n            })\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className=\"border p-5 m-auto rounded shadow\" style={{ 'max-width': '380px' }}>\n                <h2 className='text-center'>Welcome</h2>\n                    <div className=\"form-group\">\n                        <input\n                            value={this.state.user}\n                            name=\"email\"\n                            onChange={this.handleChange}\n                            type='text'\n                            placeholder='Email'\n                            className='form-control input-margin-custom border-bottom-custom'\n                        />\n                        <input\n                            value={this.state.mobile}\n                            name=\"mobile\"\n                            onChange={this.handleChange}\n                            type='text'\n                            placeholder='Mobile'\n                            className='form-control input-margin-custom border-bottom-custom'\n                        />\n\n                        <input\n                            value={this.state.password}\n                            name=\"password\"\n                            onChange={this.handleChange}\n                            type='password'\n                            placeholder='Password'\n                            className='form-control input-margin-custom border-bottom-custom'\n                        />\n\n                        <div className=\"d-flex justify-content-center\">\n                            <button className='btn btn-success rounded-pill custom-submit'>Register</button>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        )\n    }\n}\n\nexport default UserRegister","import React from 'react'\nimport axios from 'axios';\nvar QRCode = require('qrcode.react');\n\nclass User extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            mfaStatus: props.mfaStatus,\n            email: props.email\n        }\n    }\n\n    handleChange = (e) => {\n        const isChecked = e.target.checked\n        this.props.handleMfaChange(isChecked)\n    }\n\n    render() {\n        return (\n            <form>\n                <div className=\"border p-5 m-auto rounded shadow text-center\" style={{ 'max-width': '380px' }}>\n                    <h2 className=\"mb-2\">Settings</h2>\n                    <QRCode className=\"mt-5 mb-5\" value={localStorage.getItem('qr')} /> <br />\n                        <h5 className=\"\">{this.state.email}</h5>\n                        <label><input type=\"checkbox\" checked={this.state.mfaStatus} onChange={this.handleChange} />  Multi-Factor Authentication </label>\n                </div>\n            </form>\n                )\n            }\n        \n        }\nexport default User","import React from 'react'\nimport axios from 'axios';\nimport User from './User';\n\nclass UserLoginMultiAuth extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            mfa: ''\n        }\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        console.log(localStorage.getItem('otp-auth'))\n        axios.post('/users/login/multi-auth', { otp: this.state.mfa }, { headers: { 'otp-auth': localStorage.getItem('otp-auth') } })\n            .then((response) => {\n                localStorage.setItem('x-auth', response.data.token)\n                localStorage.setItem('qr', response.data.mfa)\n                this.props.updateUser()\n                this.props.history.push('/users')\n            })\n    }\n\n    handleChange = (e) => {\n        e.persist()\n        this.setState(() => ({ mfa: e.target.value }))\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className=\"border p-5 m-auto rounded shadow\" style={{ 'max-width': '380px' }}>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"MFA Token\"\n                            onChange={this.handleChange}\n                            value={this.state.mfa}\n                            className='form-control input-margin-custom border-bottom-custom'\n                        />\n                    </div>\n                    <div className=\"d-flex justify-content-center\">\n                        <button className='btn btn-success rounded-pill custom-submit'>Login</button>\n                    </div>\n                </div>\n            </form>\n        )\n    }\n}\n\nexport default UserLoginMultiAuth","import React from 'react'\nimport axios from 'axios'\n\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\n\n\nimport UserLogin from './components/user/Login'\nimport UserRegister from './components/user/Register'\nimport User from './components/user/User'\nimport UserLoginMultiAuth from './components/user/LoginMultiAuth'\n\nclass App extends React.Component {\n\n  constructor() {\n    super()\n    this.state = {\n      isAuthenticated: undefined,\n      mfaStatus: undefined,\n      email: undefined\n    }\n  }\n\n  handleMfaChange = (isChecked) => {\n    axios.put('/users/mfa', { mfa: isChecked }, { headers: { 'x-auth': localStorage.getItem('x-auth') } })\n      .then((response) => {\n        this.setState(() => ({\n          mfaStatus: response.data.mfa.on\n        }))\n      })\n  }\n\n  updateUser = () => {\n    if (localStorage.getItem('x-auth')) {\n      axios.get('/users', { headers: { 'x-auth': localStorage.getItem('x-auth') } })\n        .then((response) => {\n          this.setState(() => ({ mfaStatus: response.data.mfa, email: response.data.email, isAuthenticated: true }))\n        })\n        .catch(() => {\n          this.setState(() => ({ isAuthenticated: false }))\n        })\n    } else {\n      this.setState(() => ({ isAuthenticated: false }))\n    }\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n\n        {this.state.isAuthenticated !== undefined &&\n          <React.Fragment>\n\n            <nav class=\"navbar navbar-dark bg-dark mb-3\">\n              <div className=\"d-flex w-100 li-parent justify-content-end\" style={{ listStyleType: 'none' }}>\n                <li className=\"mr-auto\"><Link to=\"/\">Home</Link></li>\n                {this.state.isAuthenticated ?\n                  <React.Fragment>\n                    <li><Link className=\"nav-item\" to=\"/users\">Settings</Link></li>\n                    <li><Link className=\"nav-item\" to=\"/logout\">Logout</Link></li>\n                  </React.Fragment>\n                  :\n                  <React.Fragment>\n                    <li><Link to=\"/register\">Register</Link></li>\n                    <li><Link to=\"/login\">Login</Link></li>\n                  </React.Fragment>\n                }\n              </div>\n            </nav>\n\n            {this.state.isAuthenticated ?\n              <React.Fragment>\n                <Route path=\"/users\" component={(props) => {\n                  return <User\n                    {...props}\n                    mfaStatus={this.state.mfaStatus}\n                    email={this.state.email}\n                    handleMfaChange={this.handleMfaChange} />\n                }} />\n                <Route path=\"/logout\" component={(props) => {\n                  localStorage.clear()\n                  this.updateUser()\n                  props.history.push(\"/\")\n                  return <></>\n                }} />\n              </React.Fragment>\n              :\n              <React.Fragment>\n                <Route path=\"/login\" render={(props)=>{\n                  return <UserLogin {...props} updateUser={this.updateUser} />\n                }} exact={true} />\n                <Route path=\"/register\" render={(props)=>{\n                  return <UserRegister {...props} updateUser={this.updateUser} />}}\n                  />\n                <Route path=\"/login/multi-auth\" render={(props)=>{\n                  return <UserLoginMultiAuth {...props} updateUser={this.updateUser} />\n                }} exact={true} />\n              </React.Fragment>\n            }\n\n            <Route path=\"/\" exact={true} render={() => {\n              return (\n                <div className=\"border p-2 mt-5 mx-auto rounded shadow text-center\" style={{ 'max-width': '480px' }}>\n                  <h3 className=\"\">About this App</h3>\n                  <ol>\n                    <li>This app demonstrates Multi-Factor User Authentication.</li>\n                    <li>You will need Google Authenticator App to test this.</li>\n                    <li>Multi-Factor Authentication is turned off by default.</li>\n                    <li>This app saves your browser fingerprint, once logged in MFA wont be required again for that browser.</li>\n                  </ol>\n                </div>\n              )\n            }} />\n          </React.Fragment>\n        }\n      </BrowserRouter>\n    )\n  }\n\n  componentDidMount() {\n    this.updateUser()\n  }\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './css/main.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}